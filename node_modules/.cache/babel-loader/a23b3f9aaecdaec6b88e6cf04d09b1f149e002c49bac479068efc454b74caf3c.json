{"ast":null,"code":"import _slicedToArray from\"/Users/arya/Desktop/weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{AsyncPaginate}from\"react-select-async-paginate\";import{GEO_API_URL}from\"../../api\";import{geoApiOptions}from\"../../api\";import{jsx as _jsx}from\"react/jsx-runtime\";var Search=function Search(_ref){var onSearchChange=_ref.onSearchChange;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var handleOnChange=function handleOnChange(searchData){setSearch(searchData);onSearchChange(searchData);};var loadOptions=function loadOptions(inputValue){return fetch(\"\".concat(GEO_API_URL,\"/cities?minPopulation=1000000&namePrefix=\").concat(inputValue),geoApiOptions).then(function(response){return response.json();}).then(function(response){return{options:response.data.map(function(city){return{value:\"\".concat(city.latitude,\" \").concat(city.longitude),label:\"\".concat(city.name,\", \").concat(city.countryCode,\" \")};})};}).catch(function(err){return console.error(err);});};return/*#__PURE__*/_jsx(AsyncPaginate,{placeholder:\"Search for city\",debounceTimeout:600,value:search,onChange:handleOnChange,loadOptions:loadOptions});};export default Search;","map":{"version":3,"names":["useState","AsyncPaginate","GEO_API_URL","geoApiOptions","jsx","_jsx","Search","_ref","onSearchChange","_useState","_useState2","_slicedToArray","search","setSearch","handleOnChange","searchData","loadOptions","inputValue","fetch","concat","then","response","json","options","data","map","city","value","latitude","longitude","label","name","countryCode","catch","err","console","error","placeholder","debounceTimeout","onChange"],"sources":["/Users/arya/Desktop/weather-app/src/components/search/search.js"],"sourcesContent":["import { useState } from \"react\";\nimport { AsyncPaginate } from \"react-select-async-paginate\";\nimport { GEO_API_URL } from \"../../api\";\nimport { geoApiOptions } from \"../../api\";\n\nconst Search = ({ onSearchChange }) => {\n\n    const [search, setSearch] = useState(null); \n\n    const handleOnChange = (searchData) => {\n        setSearch(searchData);    \n        onSearchChange(searchData);\n    }\n\n    const loadOptions = (inputValue) => {\n        return fetch(`${GEO_API_URL}/cities?minPopulation=1000000&namePrefix=${inputValue}`, geoApiOptions)\n            .then(response => response.json())\n            .then(response => {\n                return {\n                    options: response.data.map((city) => {\n                        return {\n                            value: `${city.latitude} ${city.longitude}`,\n                            label: `${city.name}, ${city.countryCode} `,\n                        }\n                    })\n                }\n            })\n            .catch(err => console.error(err));\n    }\n\n    return (\n        <AsyncPaginate\n            placeholder=\"Search for city\"\n            debounceTimeout={600}  \n            value={search}\n            onChange={handleOnChange}\n            loadOptions={loadOptions}  \n        />\n    )\n}\n\nexport default Search; "],"mappings":"qHAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,aAAa,KAAQ,6BAA6B,CAC3D,OAASC,WAAW,KAAQ,WAAW,CACvC,OAASC,aAAa,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAAC,IAAA,CAA2B,IAArB,CAAAC,cAAc,CAAAD,IAAA,CAAdC,cAAc,CAE5B,IAAAC,SAAA,CAA4BT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExB,GAAM,CAAAI,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,UAAU,CAAK,CACnCF,SAAS,CAACE,UAAU,CAAC,CACrBP,cAAc,CAACO,UAAU,CAAC,CAC9B,CAAC,CAED,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,UAAU,CAAK,CAChC,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAIjB,WAAW,8CAAAiB,MAAA,CAA4CF,UAAU,EAAId,aAAa,CAAC,CAC9FiB,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACjCF,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACd,MAAO,CACHE,OAAO,CAAEF,QAAQ,CAACG,IAAI,CAACC,GAAG,CAAC,SAACC,IAAI,CAAK,CACjC,MAAO,CACHC,KAAK,IAAAR,MAAA,CAAKO,IAAI,CAACE,QAAQ,MAAAT,MAAA,CAAIO,IAAI,CAACG,SAAS,CAAE,CAC3CC,KAAK,IAAAX,MAAA,CAAKO,IAAI,CAACK,IAAI,OAAAZ,MAAA,CAAKO,IAAI,CAACM,WAAW,KAC5C,CAAC,CACL,CAAC,CACL,CAAC,CACL,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,GAAC,CACzC,CAAC,CAED,mBACI7B,IAAA,CAACJ,aAAa,EACVoC,WAAW,CAAC,iBAAiB,CAC7BC,eAAe,CAAE,GAAI,CACrBX,KAAK,CAAEf,MAAO,CACd2B,QAAQ,CAAEzB,cAAe,CACzBE,WAAW,CAAEA,WAAY,CAC5B,CAAC,CAEV,CAAC,CAED,cAAe,CAAAV,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}